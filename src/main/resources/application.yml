spring:
  profiles.active: @envName@
  application:
    name: steve
  datasource:
    url: jdbc:mysql://${db.ip}:${db.port}/${db.schema}
    username: ${db.user}
    password: ${db.password}

server:
  address: ${server.host}
  port: ${http.port}
  servlet.context-path: /${context.path}
  compression:
    enabled: ${server.gzip.enabled}
  ssl:
    enabled: ${https.enabled}
    key-store-type:
    key-store: ${keystore.path}
    key-store-password: ${keystore.password}
    trust-store-type:
    trust-store:
    trust-store-password:
    enabled-protocols:
      - TLSv1.2
      - TLSv1.3
    ciphers:
    # or 'need' for strict security profile 3 (mTLS)
    client-auth: want

steve:
  version: @project.version@
  jooq:
    executive-logging: ${db.sql.logging}
  auth:
    username: ${auth.user}
    password: ${auth.password}
    web-api-key: ${webapi.key}
    web-api-secret: ${webapi.value}
  ocpp:
    ws-session-select-strategy: ${ws.session.select.strategy}
    auto-register-unknown-stations: ${auto.register.unknown.stations}
    charge-box-id-validation-regex: ${charge-box-id.validation.regex}

    # OCPP 1.6 Security Profiles Configuration
    # Other settings are inherited from server.ssl
    security:
      # Profile 0: No HTTP basic authentication, no TLS
      # Profile 1: HTTP basic authentication, no TLS
      # Profile 2: HTTP basic authentication, TLS with server-side certificate
      # Profile 3: TLS with client-side certificate, TLS with server-side certificate -> mutual TLS (mTLS)
      profile: 0
      certificate-validity-years: 1
      client-cert-header-from-proxy: "X-Client-Cert"
